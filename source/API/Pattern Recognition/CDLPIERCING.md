# CDLPIERCING

中文名称：穿刺线

用法：出现穿刺线，后市看涨

调用方法：talib.CDLPIERCING(open, high, low, close)

输出：0代表不符合K线形态，100表示符合形态

## 指标介绍

第一根k线：长阴线

第二根k线：长阳线，开盘低于前一天最低价，且收盘至少在前一天的50%以上

## 图例

![piercing](/assets/CDLPIERCING_sh600000.png)

## 使用案例

```python
#展示DataFrame中的数据"603977"
df
```

| 日期        | 开盘价   | 最高价   | 收盘价   | 最低价   |
| --------- | ----- | ----- | ----- | ----- |
| 2017/7/19 | 15.85 | 16.3  | 16.19 | 15.8  |
| 2017/7/20 | 16.15 | 16.5  | 16    | 15.9  |
| 2017/7/21 | 15.98 | 16.26 | 16.02 | 15.91 |
| 2017/7/24 | 15.98 | 16.28 | 16.14 | 15.58 |
| 2017/7/25 | 16.14 | 16.37 | 16.24 | 16.02 |
| 2017/7/26 | 16.23 | 16.29 | 16.08 | 15.97 |
| 2017/7/27 | 16.08 | 16.62 | 16.58 | 15.95 |
| 2017/7/28 | 16.49 | 16.56 | 16.45 | 16.31 |
| 2017/7/31 | 16.38 | 16.58 | 16.49 | 16.38 |
| 2017/8/1  | 16.47 | 16.55 | 16.44 | 16.28 |
| 2017/8/2  | 16.45 | 16.51 | 16.01 | 16.01 |
| 2017/8/3  | 15.91 | 16.5  | 16.29 | 15.91 |
| 2017/8/4  | 16.27 | 16.39 | 16.12 | 16.05 |
| 2017/8/7  | 16.13 | 16.34 | 16.19 | 16.13 |
| 2017/8/8  | 16.25 | 16.26 | 16.18 | 16.03 |
| 2017/8/9  | 16.15 | 16.26 | 16.07 | 16.01 |
| 2017/8/10 | 16.13 | 16.13 | 15.78 | 15.71 |
| 2017/8/11 | 15.68 | 15.83 | 15.56 | 15.51 |
| 2017/8/14 | 15.59 | 15.86 | 15.81 | 15.56 |
| 2017/8/15 | 15.83 | 16.96 | 16.51 | 15.83 |

```python
# 赋值开、高、收、低价格，np.array格式。
open_p = df['开盘价'].values
high_p = df['最高价'].values
low_p = df['最低价'].values
close_p = df['收盘价'].values
```

```python
# 展示open_p中的数据
open_p
```

```python
array([15.85, 16.15, 15.98, 15.98, 16.14, 16.23, 16.08, 16.49, 16.38, 16.47, 16.45, 15.91, 16.27, 16.13, 16.25, 16.15, 16.13, 15.68, 15.59, 15.83])
```

```python
# 调用函数
talib.CDLPIERCING(open_p, high_p, low_p, close_p)
```

```python
array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 100, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],dtype=int32)
```

## 在A股使用情况

遍历A股所有股票（包含退市），考察从上市至2017年1季度，所有出现

```PYTHON
# 展现统计结果
df.groupby(pattern_name)[[str(i)+'天后涨跌幅' for i in 1, 3, 5, 10]].describe()
```



|          |       |   1天后涨跌幅   |   3天后涨跌幅   |   5天后涨跌幅   |  10天后涨跌幅   |
| :------: | :---: | :--------: | :--------: | :--------: | :--------: |
| PIERCING |       |            |            |            |            |
|   100    | count |   39754    |   39754    |   39754    |   39754    |
|          | mean  | 0.0032124  | 0.0030419  | 0.0059228  | 0.0116688  |
|          |  std  | 0.0674785  | 0.0854948  | 0.1009550  | 0.1313031  |
|          |  min  | -0.3415490 | -0.6623317 | -0.6830445 | -0.7480733 |
|          |  25%  | -0.0145707 | -0.0256817 | -0.0329680 | -0.0476180 |
|          |  50%  | 0.0027875  | 0.0041323  | 0.0061951  | 0.0071571  |
|          |  75%  | 0.0204080  | 0.0343943  | 0.0453853  | 0.0665556  |
|          |  max  | 11.5880340 | 10.9658166 | 10.3555625 | 9.5299186  |